"0","checkInstallLoad(""gbm"")"
"2","Loading required package: gbm
"
"2","Loading required package: survival
"
"2","
Attaching package: ‘survival’

"
"2","The following object is masked from ‘package:caret’:

    cluster

"
"2","Loading required package: splines
"
"2","Loading required package: parallel
"
"2","Loaded gbm 2.1.3
"
"2","Warning messages:
"
"2","1: Unknown or uninitialised column: 'native_country'. 
"
"2","2: Unknown or uninitialised column: 'native_country'. 
"
"0","# convert the response variable to character"
"0","train_dummies_gbm <- train_dummies"
"0","train_dummies_gbm$greater_50k <- as.character(train_dummies_gbm$greater_50k)"
"0","fit <- gbm(greater_50k ~ ., data = train_dummies_gbm)"
"1","Distribution not specified, assuming bernoulli ...
"
"0","Y_pred <- predict(fit, newdata = test_dummies, n.trees = 500, type = ""response"")"
"2","Number of trees not specified or exceeded number fit so far. Using 100."
"0","# select a probability threshold"
"0","thresh <- 0.5"
"0","# values greater than thresh are assigned 1 else 0"
"0","Y_pred_vals <- ifelse(Y_pred > thresh, 1, 0)"
"0","# confusion matrix and some important metrics - precision, recall, sensitivity, specificity and kappa score"
"0","caret::confusionMatrix(data = Y_pred_vals, reference = y_test, positive = '1', mode =  ""everything"")"
"2","Levels are not in the same order for reference and data. Refactoring data to match."
"1","Confusion Matrix and Statistics

"
"1","          Reference
"
"1","Prediction"
"1","     0"
"1","     1"
"1","
         0"
"1"," 12435"
"1","  3846"
"1","
         1"
"1","     0"
"1","     0"
"1","
"
"1","                         "
"1","                 "
"1","
"
"1","               Accuracy :"
"1"," 0.7638          "
"1","
"
"1","                 95% CI :"
"1"," (0.7572, 0.7703)"
"1","
"
"1","    No Information Rate :"
"1"," 0.7638          "
"1","
"
"1","    P-Value [Acc > NIR] :"
"1"," 0.5043          "
"1","
"
"1","                         "
"1","                 "
"1","
"
"1","                  Kappa :"
"1"," 0               "
"1","
"
"1"," Mcnemar's Test P-Value :"
"1"," <2e-16          "
"1","
"
"1","                         "
"1","                 "
"1","
"
"1","            Sensitivity :"
"1"," 0.0000          "
"1","
"
"1","            Specificity :"
"1"," 1.0000          "
"1","
"
"1","         Pos Pred Value :"
"1","    NaN          "
"1","
"
"1","         Neg Pred Value :"
"1"," 0.7638          "
"1","
"
"1","              Precision :"
"1","     NA          "
"1","
"
"1","                 Recall :"
"1"," 0.0000          "
"1","
"
"1","                     F1 :"
"1","     NA          "
"1","
"
"1","             Prevalence :"
"1"," 0.2362          "
"1","
"
"1","         Detection Rate :"
"1"," 0.0000          "
"1","
"
"1","   Detection Prevalence :"
"1"," 0.0000          "
"1","
"
"1","      Balanced Accuracy :"
"1"," 0.5000          "
"1","
"
"1","                         "
"1","                 "
"1","
"
"1","       'Positive' Class :"
"1"," 1               "
"1","
"
"1","                         "
"1","                 "
"1","
"
